webpackJsonp([7,16],{8:function(s,e,t){t(12);var a=t(1)(t(9),t(13),"data-v-773e25fd",null);s.exports=a.exports},9:function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:{type:String},t:{type:Number,default:2e3},show:{type:Boolean,defalut:!1}}}},11:function(s,e,t){e=s.exports=t(3)(),e.push([s.id,".toast[data-v-773e25fd]{position:fixed;top:0;left:0;width:100%;height:100%}.toast .toast-mask[data-v-773e25fd]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}.toast .toast-text[data-v-773e25fd]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;min-width:120px;max-width:80%;line-height:1.5em;text-align:center;color:#fff;background:rgba(0,0,0,.7);border-radius:4px}",""])},12:function(s,e,t){var a=t(11);"string"==typeof a&&(a=[[s.id,a,""]]);t(4)(a,{});a.locals&&(s.exports=a.locals)},13:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"show"}],staticClass:"toast"},[t("div",{staticClass:"toast-mask"}),s._v(" "),t("div",{staticClass:"toast-text"},[s._v(s._s(s.text))])])},staticRenderFns:[]}},92:function(s,e){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItNDQ3IDQ0OSAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NDcgNDQ5IDEyOCAxMjg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNENkQ2RDY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0tMzgzLDQ1MC4zYy0zNC42LDAtNjIuNywyOC4xLTYyLjcsNjIuN2MwLDM0LjYsMjguMSw2Mi43LDYyLjcsNjIuN2MzNC42LDAsNjIuNy0yOC4xLDYyLjctNjIuNw0KCUMtMzIwLjMsNDc4LjQtMzQ4LjQsNDUwLjMtMzgzLDQ1MC4zeiBNLTM0My45LDQ5Ny42bC00My45LDQyLjNjLTAuNiwwLjYtMS4yLDEtMS45LDEuNGMtMi44LDItNi42LDEuNy05LjEtMC44bC0xOC44LTE4LjgNCgljLTIuOC0yLjgtMi44LTcuMiwwLTEwYzIuOC0yLjgsNy4yLTIuOCwxMCwwbDE0LjIsMTQuMmwzOS43LTM4LjJjMi44LTIuOCw3LjItMi44LDEwLDBDLTM0MS4yLDQ5MC40LTM0MS4yLDQ5NC44LTM0My45LDQ5Ny42eiIvPg0KPC9zdmc+DQo="},93:function(s,e){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItNDQ3IDQ0OSAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NDcgNDQ5IDEyOCAxMjg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRjg5MzI7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0tMzgzLDQ1MC4zYy0zNC42LDAtNjIuNywyOC4xLTYyLjcsNjIuN2MwLDM0LjYsMjguMSw2Mi43LDYyLjcsNjIuN2MzNC42LDAsNjIuNy0yOC4xLDYyLjctNjIuNw0KCUMtMzIwLjMsNDc4LjQtMzQ4LjQsNDUwLjMtMzgzLDQ1MC4zeiBNLTM0My45LDQ5Ny42bC00My45LDQyLjNjLTAuNiwwLjYtMS4yLDEtMS45LDEuNGMtMi44LDItNi42LDEuNy05LjEtMC44bC0xOC44LTE4LjgNCgljLTIuOC0yLjgtMi44LTcuMiwwLTEwYzIuOC0yLjgsNy4yLTIuOCwxMCwwbDE0LjIsMTQuMmwzOS43LTM4LjJjMi44LTIuOCw3LjItMi44LDEwLDBDLTM0MS4yLDQ5MC40LTM0MS4yLDQ5NC44LTM0My45LDQ5Ny42eiIvPg0KPC9zdmc+DQo="},145:function(s,e,t){"use strict";function a(s){if(s&&s.__esModule)return s;var e={};if(null!=s)for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e.default=s,e}function d(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(e,"__esModule",{value:!0});var i=t(8),r=d(i),o=t(29),n=a(o),l=t(18);e.default={created:function(){this.addressId=this.$route.query.addressId?this.$route.query.addressId:"",this.shopId=this.$route.query.shopId?this.$route.query.shopId:"",this.sessionId=this.$route.query.sessionId?this.$route.query.sessionId:"",this.addressId?(this.getAddressDetail(this.addressId),n.changeTitleInWx("修改地址")):n.changeTitleInWx("新增地址"),this.seller=(0,l.getStore)("shopInfo"),this.address=this.seller.address.slice(6,9)},data:function(){return{seller:{},address:"",toastShow:!1,toastText:"",isAjaxing:!1,shopId:"",sessionId:"",addressId:"",addressARR:["上城区","下城区","江干区","拱墅区","西湖区","滨江区","萧山区","余杭区","富阳区"],addressDetail:{name:"",phoneNumber:"",address:"上城区",houseNum:"",gender:0},formValid:0,vaild:{name:!1,phoneNumber:!1,address:!1,houseNum:!1,gender:0}}},components:{Toast:r.default},watch:{"addressDetail.name":function(s,e){s?this.vaild.name=!0:this.vaild.name=!1},"addressDetail.phoneNumber":function(s,e){s&&/^1(3|4|5|7|8)\d{9}$/.test(s)?this.vaild.phoneNumber=!0:this.vaild.phoneNumber=!1},"addressDetail.address":function(s,e){s?this.vaild.address=!0:this.vaild.address=!1},"addressDetail.houseNum":function(s,e){s?this.vaild.houseNum=!0:this.vaild.houseNum=!1},"addressDetail.gender":function(s,e){s?this.vaild.gender=!0:this.vaild.gender=!1}},methods:{getAddressDetail:function(s){var e=this,t={sessionId:this.sessionId,addressId:s,shopId:this.shopId};this.axios.get("/br/customer/address"+this.PublicJs.createParams(t)).then(function(s){s.data.success&&(e.addressDetail=s.data.data,e.addressDetail.address=s.data.data.address.slice(3),e.$emit("closeToast"))})},saveAddress:function(){if(!this.vaild.name)return void this.toggleToast(1,"姓名不能为空");if(!this.vaild.phoneNumber)return void this.toggleToast(1,"手机格式不对");if(!this.vaild.houseNum)return void this.toggleToast(1,"地址不能为空");if(this.addressDetail.address.indexOf(this.address)<0)return void this.toggleToast(1,"地区选择错误请重新选择");if(!this.isAjaxing){this.isAjaxing=!0;var s={shopId:this.shopId,sessionId:this.sessionId,name:this.addressDetail.name,phoneNumber:this.addressDetail.phoneNumber,gender:this.addressDetail.gender,address:"杭州市"+this.addressDetail.address,houseNum:this.addressDetail.houseNum};this.sendData(s)}},sendData:function(s){var e=this;if(console.log(s),this.addressId)s.addressId=this.addressId,this.axios.put("/br/customer/address",s).then(function(s){e.isAjaxing=!1,s.data.success?e.$router.replace({path:"/addList",query:{addressId:e.addressId,shopId:e.shopId,sessionId:e.sessionId}}):(e.toggleToast(1,s.data.message),e.$router.replace({path:"/addList",query:{addressId:e.addressId,shopId:e.shopId,sessionId:e.sessionId}}))},function(s){e.isAjaxing=!1,e.toggleToast(1,"网络异常，请稍候重试"),e.$router.replace({path:"/addList",query:{addressId:e.addressId,shopId:e.shopId,sessionId:e.sessionId}})});else{var t=this;this.axios.post("/br/customer/address",s).then(function(s){s=s.data,e.isAjaxing=!1,s.success?(t.toggleToast(1,s.message),e.$router.replace({path:"/addList",query:{addressId:s.data,shopId:e.shopId,sessionId:e.sessionId}})):t.toggleToast(1,s.message)},function(s){e.toggleToast(1,s.data.data.message)})}},delAdderss:function(){var s=this;if(this.addressId&&!this.isAjaxing){this.isAjaxing=!0;var e={addressId:this.addressId,sessionId:this.sessionId};this.axios({method:"delete",url:"/br/customer/address",data:e}).then(function(e){s.isAjaxing=!1,e=e.data,e.success?s.$router.replace({path:"/addList",query:{shopId:s.shopId,sessionId:s.sessionId}}):s.toggleToast(1,e.message)},function(e){s.toggleToast(1,"网络异常，请稍候重试")})}},toggleToast:function(s,e){var t=this;s!==!0&&1!==s||(this.toastShow=!this.toastShow,this.toastText=e,clearTimeout(this.timer),this.timer=setTimeout(function(){t.toastShow=!t.toastShow},1500))},doCloseToast:function(){this.toastShow=!1}}}},208:function(s,e,t){e=s.exports=t(3)(),e.push([s.id,".address-wrap[data-v-d854c476]{padding-top:12px;line-height:1em;color:#343434}.address-wrap ul li[data-v-d854c476]{padding-left:16px;border-bottom:1px solid #f1f1f1;display:-ms-flexbox;display:flex;display:-webkit-flex}.address-wrap ul li input[data-v-d854c476]{width:93%;height:38px;border:none}.address-wrap ul li .left[data-v-d854c476]{margin-top:13px;width:62px}.address-wrap ul li .right[data-v-d854c476]{-ms-flex-positive:1;flex-grow:1}.address-wrap ul li .right .rightbox[data-v-d854c476]{display:-ms-flexbox;display:flex;position:relative;height:38px;line-height:38px}.address-wrap ul li .right .rightbox .city[data-v-d854c476]{-ms-flex:0 0 50px;flex:0 0 50px;margin-right:10px}.address-wrap ul li .right .rightbox .citySelect[data-v-d854c476]{-ms-flex:1;flex:1;padding-left:10px;background:none;border:none}.address-wrap ul li .right .rightbox .sanjiao[data-v-d854c476]{position:absolute;top:0;left:140px}.address-wrap ul li .right .gender-wrap[data-v-d854c476]{margin:12px 0}.address-wrap ul li .right p[data-v-d854c476]{border-bottom:1px solid #f1f1f1}.address-wrap ul li .right p[data-v-d854c476]:last-child{border:none}.address-wrap ul li .right P .addSpan[data-v-d854c476]{display:block;width:93%;height:38px;line-height:38px;border:none}.address-wrap ul li .right label[data-v-d854c476]{margin-right:40px;padding-left:30px}.address-wrap ul li .right .gender.on[data-v-d854c476]{background:url("+t(93)+") no-repeat 0;background-size:18px 18px}.address-wrap ul li .right .gender.off[data-v-d854c476]{background:url("+t(92)+") no-repeat 0;background-size:18px 18px}.address-wrap .btns[data-v-d854c476]{padding:0 19px;padding-top:27px}.address-wrap .btns button[data-v-d854c476]{padding:11px 0;border:none;border-radius:5px;width:42%;border:1px solid #c1c1c1}.address-wrap .btns .btn-del[data-v-d854c476]{color:#909090;background:#fff}.address-wrap .btns .btn-del.on[data-v-d854c476]{color:#ff8932;border-color:#ff8932}.address-wrap .btns .btn-del.off[data-v-d854c476]{border-color:#fff}.address-wrap .btns .btn-save[data-v-d854c476]{color:#fff;float:right}.address-wrap .btns .btn-save.off[data-v-d854c476]{background:#c1c1c1;border-color:#c1c1c1}.address-wrap .btns .btn-save.on[data-v-d854c476]{background:#ff8932;border-color:#ff8932}",""])},229:function(s,e,t){var a=t(208);"string"==typeof a&&(a=[[s.id,a,""]]);t(4)(a,{});a.locals&&(s.exports=a.locals)},265:function(s,e,t){t(229);var a=t(1)(t(145),t(304),"data-v-d854c476",null);s.exports=a.exports},304:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"address-wrap"},[t("ul",{staticClass:"bg-white"},[t("li",[t("div",{staticClass:"left"},[s._v("联系人")]),s._v(" "),t("div",{staticClass:"right"},[t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.name,expression:"addressDetail.name"}],attrs:{type:"text",placeholder:"收货人姓名"},domProps:{value:s.addressDetail.name},on:{input:function(e){e.target.composing||(s.addressDetail.name=e.target.value)}}})]),s._v(" "),t("p",{staticClass:"gender-wrap"},[t("label",{staticClass:"gender",class:1===s.addressDetail.gender?"on":"off",on:{click:function(e){s.addressDetail.gender=1}}},[s._v("先生")]),s._v(" "),t("label",{staticClass:"gender",class:2===s.addressDetail.gender?"on":"off",on:{click:function(e){s.addressDetail.gender=2}}},[s._v("女士")])])])]),s._v(" "),t("li",[t("div",{staticClass:"left"},[s._v("电话")]),s._v(" "),t("div",{staticClass:"right"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.phoneNumber,expression:"addressDetail.phoneNumber"}],attrs:{type:"tel",placeholder:"收货人电话"},domProps:{value:s.addressDetail.phoneNumber},on:{input:function(e){e.target.composing||(s.addressDetail.phoneNumber=e.target.value)}}})])]),s._v(" "),t("li",[t("div",{staticClass:"left"},[s._v("地址")]),s._v(" "),t("div",{staticClass:"right"},[t("p",{staticClass:"rightbox"},[t("span",{staticClass:"city"},[s._v("杭州市")]),s._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.address,expression:"addressDetail.address"}],staticClass:"citySelect",on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(s){return s.selected}).map(function(s){var e="_value"in s?s._value:s.value;return e});s.addressDetail.address=e.target.multiple?t:t[0]}}},s._l(s.addressARR,function(e,a){return t("option",{staticClass:"select-item",domProps:{value:e}},[t("span",{staticClass:"title"},[s._v(s._s(e))])])})),s._v(" "),t("i",{staticClass:"uxwm-iconfont sanjiao"})]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.houseNum,expression:"addressDetail.houseNum"}],attrs:{type:"text",placeholder:"详细地址（如门牌号等）"},domProps:{value:s.addressDetail.houseNum},on:{input:function(e){e.target.composing||(s.addressDetail.houseNum=e.target.value)}}})])])])]),s._v(" "),t("div",{staticClass:"btns"},[t("button",{staticClass:"btn-del",class:s.addressId?"on":"off",attrs:{type:"button"},on:{click:function(e){s.delAdderss()}}},[s._v("删除地址")]),s._v(" "),t("button",{staticClass:"btn-save",class:s.vaild.name&&s.vaild.phoneNumber&&s.vaild.houseNum?"on":"off",attrs:{type:"button"},on:{click:s.saveAddress}},[s._v("\n      保存地址\n    ")])]),s._v(" "),t("toast",{attrs:{show:s.toastShow,text:s.toastText}})],1)},staticRenderFns:[]}}});