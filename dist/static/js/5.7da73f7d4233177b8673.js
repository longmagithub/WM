webpackJsonp([5,16],{7:function(t,e,i){i(10);var o=i(1)(i(13),i(11),"data-v-4d40f634",null);t.exports=o.exports},9:function(t,e,i){e=t.exports=i(3)(),e.push([t.id,".toast[data-v-4d40f634]{position:fixed;top:0;left:0;width:100%;height:100%}.toast .toast-mask[data-v-4d40f634]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}.toast .toast-text[data-v-4d40f634]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;min-width:120px;max-width:80%;line-height:1.5em;text-align:center;color:#fff;background:rgba(0,0,0,.7);border-radius:4px}",""])},10:function(t,e,i){var o=i(9);"string"==typeof o&&(o=[[t.id,o,""]]);i(4)(o,{});o.locals&&(t.exports=o.locals)},11:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"toast"},[i("div",{staticClass:"toast-mask"}),t._v(" "),i("div",{staticClass:"toast-text"},[t._v(t._s(t.text))])])},staticRenderFns:[]}},13:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:{type:String},t:{type:Number,default:2e3},show:{type:Boolean,defalut:!1}}}},108:function(t,e,i){t.exports=i.p+"static/img/inviteLogo.971975f.png"},148:function(t,e,i){e=t.exports=i(3)(),e.push([t.id,".invite{z-index:111;top:0;left:0;bottom:-300px;height:100%;background:#ffd166;background-size:100%}.invite,.invite .logoimg{position:absolute;width:100%}.invite .logoimg{top:47px;height:182px;background:url("+i(108)+") no-repeat 50%;background-size:182px 100%}@media (max-width:320px){.invite .logoimg{position:absolute;top:40px;width:100%;height:155px;background:url("+i(108)+") no-repeat 50%;background-size:155px 100%}}.invite .inviteText{position:absolute;top:254px;width:100%;height:84px;text-align:center;color:#fff;background:#ffd166}@media (max-width:320px){.invite .inviteText{position:absolute;top:210px;width:100%;text-align:center;color:#fff}}.invite .inviteText .title{font-family:STYuanti-SC-Regular;font-size:18px;color:#fff;letter-spacing:.64px}.invite .inviteText .title .inviteNum{width:140px;font-family:STYuanti-SC-Bold;font-size:24px;color:#f54;letter-spacing:.85px;border:none;background:none}.invite .inviteText .inviteDesc{font-family:STYuanti-SC-Regular;font-size:13px;color:#fff;letter-spacing:1px;line-height:23px}.invite .inviteText .inviteDesc .inviteNum{font-family:STYuanti-SC-Bold;font-size:16px;color:#f54;letter-spacing:1.24px}.invite .inviteBorder{position:absolute;top:338px;width:100%;height:30px;background:#ffd166 url("+i(173)+") no-repeat 50%;background-size:94% 20px}.inviteSuccess{position:fixed;z-index:111;top:0;left:0;width:100%;height:100%;background:url("+i(174)+") no-repeat;background-size:100%}.inviteBox{position:absolute;top:364px;width:100%;background:#ffd166}.inviteBox .inviteWrapper{position:relative;box-sizing:border-box;width:70%;left:15%;height:50px;padding:0 18px;font-size:14px;background:#fff;border-radius:6px}.inviteBox .inviteWrapper .inviteInput{box-sizing:border-box;position:absolute;top:0;left:0;padding-left:60px;width:100%;height:50px;border:none;background:none}.inviteBox .inviteWrapper .icon_inviteNum{line-height:50px;color:#f54}.inviteBox .inviteBtn{margin:0 auto;margin-top:33px;width:123px;height:47px;line-height:47px;text-align:center;font-family:STYuanti-SC-Regular;font-size:16px;color:#fff;letter-spacing:.57px;background:#f54;border-radius:6px}",""])},173:function(t,e){t.exports="data:image/png;base64,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"},174:function(t,e,i){t.exports=i.p+"static/img/inviteSuccess02.e64ab44.png"},195:function(t,e,i){var o=i(148);"string"==typeof o&&(o=[[t.id,o,""]]);i(4)(o,{});o.locals&&(t.exports=o.locals)},212:function(t,e,i){i(195);var o=i(1)(i(295),i(243),null,null);t.exports=o.exports},243:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inviteWap"},[i("div",{staticClass:"invite"},[i("div",{staticClass:"logoimg"}),t._v(" "),i("div",{staticClass:"inviteText"},[i("p",{staticClass:"title"},[t._v("我的邀请码："),i("input",{directives:[{name:"model",rawName:"v-model",value:t.idcode,expression:"idcode"}],staticClass:"inviteNum",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.idcode},on:{input:function(e){e.target.composing||(t.idcode=e.target.value)}}})]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"inviteBorder"}),t._v(" "),i("div",{staticClass:"inviteBox"},[i("p",{staticClass:"inviteWrapper"},[i("i",{staticClass:"uxwm-iconfont icon_inviteNum"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.referenceCode,expression:"referenceCode"}],staticClass:"inviteInput",attrs:{type:"text",placeholder:"输入好友的邀请码"},domProps:{value:t.referenceCode},on:{input:function(e){e.target.composing||(t.referenceCode=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"inviteBtn",on:{click:t.goShopList}},[t._v("确定")])]),t._v(" "),i("toast",{attrs:{show:t.toastShow,text:t.toastText}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"inviteDesc"},[t._v("好友使用您的邀请码并成功下单后,"),i("br"),t._v("\n        您与好友都会获得一个最高"),i("span",{staticClass:"inviteNum"},[t._v("10元")]),t._v("的红包")])}]}},295:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(7),n=o(s),a=i(18);e.default={data:function(){return{inviteText:"",toastShow:!1,toastText:"",customerId:"",idcode:"",referenceCode:"",isSuccessInviteNum:"",isSuccessInvite:!1}},created:function(){(0,a.setStore)("isRemind",{isRemind:!0}),this.shopId=this.$route.query.shopId,this.customerId=this.$route.query.customerId,this.shopId&&this.customerId?this.getIdcode(this.customerId):this.isCode()},methods:{isCode:function(){var t=this,e=window.location.href;if(null===(0,a.getStore)("openId"))if(console.log("openId"),e.indexOf("code")<0)this.to();else{var i={code:(0,a.urlParse)().code,type:1},o="/mp/authority/customer";this.axios.post(o,i).then(function(e){e=e.data,t.customerId=e.data.customerId,t.getIdcode(t.customerId),(0,a.setStore)("openId",{customerId:e.data.customerId})})}else if(void 0===(0,a.getStore)("openId").customerId){var s={code:(0,a.urlParse)().code,type:1},n="/mp/authority/customer";this.axios.post(n,s).then(function(e){e=e.data,t.customerId=e.data.customerId,t.getIdcode(t.customerId),(0,a.setStore)("openId",{customerId:e.data.customerId})})}else this.customerId=(0,a.getStore)("openId").customerId,this.getIdcode(this.customerId)},getIdcode:function(t){var e=this;this.axios.get("/br/customer/idcode?sessionId="+t).then(function(t){t=t.data,t.success&&(e.idcode=t.data.idCode.toUpperCase(),e.isSuccessInviteNum=t.data.referenceCode,""===e.isSuccessInviteNum?e.isSuccessInvite=!1:e.isSuccessInvite=!0)})},goShopList:function(){var t=this;if(""===this.referenceCode)return void this.toggleToast(1,"邀请码不能为空",1500);var e={sessionId:this.customerId,referenceCode:this.referenceCode};this.axios.post("/br/customer/idcode",e).then(function(e){e=e.data,e.success&&200===e.code?(console.log(e.data),t.toggleToast(1,e.message,1500),setTimeout(function(){window.location.href="http://newpay.tunnel.qydev.com/VAOrderH5/?#/index?shopId="+t.shopId+"&customerId="+t.customerId+"&isDistance=1&T="+Date.parse(new Date)/1e3},2e3)):14001===e.code?(t.toggleToast(1,e.message,1500),setTimeout(function(){window.location.href="http://newpay.tunnel.qydev.com/VAOrderH5/?#/index?shopId="+t.shopId+"&customerId="+t.customerId+"&isDistance=1&T="+Date.parse(new Date)/1e3},2e3)):t.toggleToast(1,e.message,1500)})},to:function(){var t=encodeURIComponent("http://newpay.tunnel.qydev.com/VAOrderH5/?#/inviteNum?t="+Date.parse(new Date)/1e3),e="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx96f6daa5f8a71039&redirect_uri="+t+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect";window.location.replace(e)},toggleToast:function(t,e,i){var o=this;t!==!0&&1!==t||(this.toastShow=!this.toastShow,this.toastText=e,clearTimeout(this.timer),this.timer=setTimeout(function(){o.toastShow=!o.toastShow},i))}},components:{toast:n.default}}}});