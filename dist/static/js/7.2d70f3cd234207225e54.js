webpackJsonp([7,16],{7:function(s,t,e){e(10);var a=e(1)(e(13),e(11),"data-v-4d40f634",null);s.exports=a.exports},9:function(s,t,e){t=s.exports=e(3)(),t.push([s.id,".toast[data-v-4d40f634]{position:fixed;top:0;left:0;width:100%;height:100%}.toast .toast-mask[data-v-4d40f634]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}.toast .toast-text[data-v-4d40f634]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;min-width:120px;max-width:80%;line-height:1.5em;text-align:center;color:#fff;background:rgba(0,0,0,.7);border-radius:4px}",""])},10:function(s,t,e){var a=e(9);"string"==typeof a&&(a=[[s.id,a,""]]);e(4)(a,{});a.locals&&(s.exports=a.locals)},11:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"show"}],staticClass:"toast"},[e("div",{staticClass:"toast-mask"}),s._v(" "),e("div",{staticClass:"toast-text"},[s._v(s._s(s.text))])])},staticRenderFns:[]}},13:function(s,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{text:{type:String},t:{type:Number,default:2e3},show:{type:Boolean,defalut:!1}}}},67:function(s,t){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItNDQ3IDQ0OSAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NDcgNDQ5IDEyOCAxMjg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNENkQ2RDY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0tMzgzLDQ1MC4zYy0zNC42LDAtNjIuNywyOC4xLTYyLjcsNjIuN2MwLDM0LjYsMjguMSw2Mi43LDYyLjcsNjIuN2MzNC42LDAsNjIuNy0yOC4xLDYyLjctNjIuNw0KCUMtMzIwLjMsNDc4LjQtMzQ4LjQsNDUwLjMtMzgzLDQ1MC4zeiBNLTM0My45LDQ5Ny42bC00My45LDQyLjNjLTAuNiwwLjYtMS4yLDEtMS45LDEuNGMtMi44LDItNi42LDEuNy05LjEtMC44bC0xOC44LTE4LjgNCgljLTIuOC0yLjgtMi44LTcuMiwwLTEwYzIuOC0yLjgsNy4yLTIuOCwxMCwwbDE0LjIsMTQuMmwzOS43LTM4LjJjMi44LTIuOCw3LjItMi44LDEwLDBDLTM0MS4yLDQ5MC40LTM0MS4yLDQ5NC44LTM0My45LDQ5Ny42eiIvPg0KPC9zdmc+DQo="},68:function(s,t){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItNDQ3IDQ0OSAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NDcgNDQ5IDEyOCAxMjg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRjg5MzI7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0tMzgzLDQ1MC4zYy0zNC42LDAtNjIuNywyOC4xLTYyLjcsNjIuN2MwLDM0LjYsMjguMSw2Mi43LDYyLjcsNjIuN2MzNC42LDAsNjIuNy0yOC4xLDYyLjctNjIuNw0KCUMtMzIwLjMsNDc4LjQtMzQ4LjQsNDUwLjMtMzgzLDQ1MC4zeiBNLTM0My45LDQ5Ny42bC00My45LDQyLjNjLTAuNiwwLjYtMS4yLDEtMS45LDEuNGMtMi44LDItNi42LDEuNy05LjEtMC44bC0xOC44LTE4LjgNCgljLTIuOC0yLjgtMi44LTcuMiwwLTEwYzIuOC0yLjgsNy4yLTIuOCwxMCwwbDE0LjIsMTQuMmwzOS43LTM4LjJjMi44LTIuOCw3LjItMi44LDEwLDBDLTM0MS4yLDQ5MC40LTM0MS4yLDQ5NC44LTM0My45LDQ5Ny42eiIvPg0KPC9zdmc+DQo="},139:function(s,t,e){t=s.exports=e(3)(),t.push([s.id,".address-wrap[data-v-1d396a3c]{padding-top:12px;line-height:1em;color:#343434}.address-wrap ul li[data-v-1d396a3c]{padding-left:16px;border-bottom:1px solid #f1f1f1;display:-ms-flexbox;display:flex;display:-webkit-flex}.address-wrap ul li input[data-v-1d396a3c]{width:93%;height:38px;border:none}.address-wrap ul li .left[data-v-1d396a3c]{margin-top:13px;width:62px}.address-wrap ul li .right[data-v-1d396a3c]{-ms-flex-positive:1;flex-grow:1}.address-wrap ul li .right .rightbox[data-v-1d396a3c]{display:-ms-flexbox;display:flex;position:relative;height:38px;line-height:38px}.address-wrap ul li .right .rightbox .city[data-v-1d396a3c]{-ms-flex:0 0 50px;flex:0 0 50px;margin-right:10px}.address-wrap ul li .right .rightbox .citySelect[data-v-1d396a3c]{-ms-flex:1;flex:1;padding-left:10px;background:none;border:none}.address-wrap ul li .right .rightbox .sanjiao[data-v-1d396a3c]{position:absolute;top:0;left:140px}.address-wrap ul li .right .gender-wrap[data-v-1d396a3c]{margin:12px 0}.address-wrap ul li .right p[data-v-1d396a3c]{border-bottom:1px solid #f1f1f1}.address-wrap ul li .right p[data-v-1d396a3c]:last-child{border:none}.address-wrap ul li .right P .addSpan[data-v-1d396a3c]{display:block;width:93%;height:38px;line-height:38px;border:none}.address-wrap ul li .right label[data-v-1d396a3c]{margin-right:40px;padding-left:30px}.address-wrap ul li .right .gender.on[data-v-1d396a3c]{background:url("+e(68)+") no-repeat 0;background-size:18px 18px}.address-wrap ul li .right .gender.off[data-v-1d396a3c]{background:url("+e(67)+") no-repeat 0;background-size:18px 18px}.address-wrap .btns[data-v-1d396a3c]{padding:0 19px;padding-top:27px}.address-wrap .btns button[data-v-1d396a3c]{padding:11px 0;border:none;border-radius:5px;width:42%;border:1px solid #c1c1c1}.address-wrap .btns .btn-del[data-v-1d396a3c]{color:#909090;background:#fff}.address-wrap .btns .btn-del.on[data-v-1d396a3c]{color:#ff8932;border-color:#ff8932}.address-wrap .btns .btn-del.off[data-v-1d396a3c]{border-color:#fff}.address-wrap .btns .btn-save[data-v-1d396a3c]{color:#fff;float:right}.address-wrap .btns .btn-save.off[data-v-1d396a3c]{background:#c1c1c1;border-color:#c1c1c1}.address-wrap .btns .btn-save.on[data-v-1d396a3c]{background:#ff8932;border-color:#ff8932}",""])},183:function(s,t,e){var a=e(139);"string"==typeof a&&(a=[[s.id,a,""]]);e(4)(a,{});a.locals&&(s.exports=a.locals)},206:function(s,t,e){e(183);var a=e(1)(e(290),e(229),"data-v-1d396a3c",null);s.exports=a.exports},229:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"address-wrap"},[e("ul",{staticClass:"bg-white"},[e("li",[e("div",{staticClass:"left"},[s._v("联系人")]),s._v(" "),e("div",{staticClass:"right"},[e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.name,expression:"addressDetail.name"}],attrs:{type:"text",placeholder:"收货人姓名"},domProps:{value:s.addressDetail.name},on:{input:function(t){t.target.composing||(s.addressDetail.name=t.target.value)}}})]),s._v(" "),e("p",{staticClass:"gender-wrap"},[e("label",{staticClass:"gender",class:1===s.addressDetail.gender?"on":"off",on:{click:function(t){s.addressDetail.gender=1}}},[s._v("先生")]),s._v(" "),e("label",{staticClass:"gender",class:2===s.addressDetail.gender?"on":"off",on:{click:function(t){s.addressDetail.gender=2}}},[s._v("女士")])])])]),s._v(" "),e("li",[e("div",{staticClass:"left"},[s._v("电话")]),s._v(" "),e("div",{staticClass:"right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.phoneNumber,expression:"addressDetail.phoneNumber"}],attrs:{type:"tel",placeholder:"收货人电话"},domProps:{value:s.addressDetail.phoneNumber},on:{input:function(t){t.target.composing||(s.addressDetail.phoneNumber=t.target.value)}}})])]),s._v(" "),e("li",[e("div",{staticClass:"left"},[s._v("地址")]),s._v(" "),e("div",{staticClass:"right"},[e("p",{staticClass:"rightbox"},[e("span",{staticClass:"city"},[s._v("杭州市")]),s._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.address,expression:"addressDetail.address"}],staticClass:"citySelect",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(s){return s.selected}).map(function(s){var t="_value"in s?s._value:s.value;return t});s.addressDetail.address=t.target.multiple?e:e[0]}}},s._l(s.addressARR,function(t,a){return e("option",{staticClass:"select-item",domProps:{value:t}},[e("span",{staticClass:"title"},[s._v(s._s(t))])])})),s._v(" "),e("i",{staticClass:"uxwm-iconfont sanjiao"})]),s._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.houseNum,expression:"addressDetail.houseNum"}],attrs:{type:"text",placeholder:"详细地址（如门牌号等）"},domProps:{value:s.addressDetail.houseNum},on:{input:function(t){t.target.composing||(s.addressDetail.houseNum=t.target.value)}}})])])])]),s._v(" "),e("div",{staticClass:"btns"},[e("button",{staticClass:"btn-del",class:s.addressId?"on":"off",attrs:{type:"button"},on:{click:function(t){s.delAdderss()}}},[s._v("删除地址")]),s._v(" "),e("button",{staticClass:"btn-save",class:s.vaild.name&&s.vaild.phoneNumber&&s.vaild.houseNum?"on":"off",attrs:{type:"button"},on:{click:s.saveAddress}},[s._v("\n      保存地址\n    ")])]),s._v(" "),e("toast",{attrs:{show:s.toastShow,text:s.toastText}})],1)},staticRenderFns:[]}},290:function(s,t,e){"use strict";function a(s){if(s&&s.__esModule)return s;var t={};if(null!=s)for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e]);return t.default=s,t}function d(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(t,"__esModule",{value:!0});var i=e(7),r=d(i),o=e(33),n=a(o),l=e(18);t.default={created:function(){this.addressId=this.$route.query.addressId?this.$route.query.addressId:"",this.shopId=this.$route.query.shopId?this.$route.query.shopId:"",this.sessionId=this.$route.query.sessionId?this.$route.query.sessionId:"",this.addressId?(this.getAddressDetail(this.addressId),n.changeTitleInWx("修改地址")):n.changeTitleInWx("新增地址"),this.seller=(0,l.getStore)("shopInfo"),this.address=this.seller.address.slice(6,9)},data:function(){return{seller:{},address:"",toastShow:!1,toastText:"",isAjaxing:!1,shopId:"",sessionId:"",addressId:"",addressARR:["上城区","下城区","江干区","拱墅区","西湖区","滨江区","萧山区","余杭区","富阳区"],addressDetail:{name:"",phoneNumber:"",address:"上城区",houseNum:"",gender:0},formValid:0,vaild:{name:!1,phoneNumber:!1,address:!1,houseNum:!1,gender:0}}},components:{Toast:r.default},watch:{"addressDetail.name":function(s,t){s?this.vaild.name=!0:this.vaild.name=!1},"addressDetail.phoneNumber":function(s,t){s&&/^1(3|4|5|7|8)\d{9}$/.test(s)?this.vaild.phoneNumber=!0:this.vaild.phoneNumber=!1},"addressDetail.address":function(s,t){s?this.vaild.address=!0:this.vaild.address=!1},"addressDetail.houseNum":function(s,t){s?this.vaild.houseNum=!0:this.vaild.houseNum=!1},"addressDetail.gender":function(s,t){s?this.vaild.gender=!0:this.vaild.gender=!1}},methods:{getAddressDetail:function(s){var t=this,e={sessionId:this.sessionId,addressId:s,shopId:this.shopId};this.axios.get("/br/customer/address"+this.PublicJs.createParams(e)).then(function(s){s.data.success&&(t.addressDetail=s.data.data,t.addressDetail.address=s.data.data.address.slice(3),t.$emit("closeToast"))})},saveAddress:function(){if(!this.vaild.name)return void this.toggleToast(1,"姓名不能为空");if(!this.vaild.phoneNumber)return void this.toggleToast(1,"手机格式不对");if(!this.vaild.houseNum)return void this.toggleToast(1,"地址不能为空");if(this.addressDetail.address.indexOf(this.address)<0)return void this.toggleToast(1,"地区选择错误请重新选择");if(!this.isAjaxing){this.isAjaxing=!0;var s={shopId:this.shopId,sessionId:this.sessionId,name:this.addressDetail.name,phoneNumber:this.addressDetail.phoneNumber,gender:this.addressDetail.gender,address:"杭州市"+this.addressDetail.address,houseNum:this.addressDetail.houseNum};this.sendData(s)}},sendData:function(s){var t=this;if(console.log(s),this.addressId)s.addressId=this.addressId,this.axios.put("/br/customer/address",s).then(function(s){t.isAjaxing=!1,s.data.success?t.$router.replace({path:"/addList",query:{addressId:t.addressId,shopId:t.shopId,sessionId:t.sessionId}}):(t.toggleToast(1,s.data.message),t.$router.replace({path:"/addList",query:{addressId:t.addressId,shopId:t.shopId,sessionId:t.sessionId}}))},function(s){t.isAjaxing=!1,t.toggleToast(1,"网络异常，请稍候重试"),t.$router.replace({path:"/addList",query:{addressId:t.addressId,shopId:t.shopId,sessionId:t.sessionId}})});else{var e=this;this.axios.post("/br/customer/address",s).then(function(s){s=s.data,t.isAjaxing=!1,s.success?(e.toggleToast(1,s.message),t.$router.replace({path:"/addList",query:{addressId:s.data,shopId:t.shopId,sessionId:t.sessionId}})):e.toggleToast(1,s.message)},function(s){t.toggleToast(1,s.data.data.message)})}},delAdderss:function(){var s=this;if(this.addressId&&!this.isAjaxing){this.isAjaxing=!0;var t={addressId:this.addressId,sessionId:this.sessionId};this.axios({method:"delete",url:"/br/customer/address",data:t}).then(function(t){s.isAjaxing=!1,t=t.data,t.success?s.$router.replace({path:"/addList",query:{shopId:s.shopId,sessionId:s.sessionId}}):s.toggleToast(1,t.message)},function(t){s.toggleToast(1,"网络异常，请稍候重试")})}},toggleToast:function(s,t){var e=this;s!==!0&&1!==s||(this.toastShow=!this.toastShow,this.toastText=t,clearTimeout(this.timer),this.timer=setTimeout(function(){e.toastShow=!e.toastShow},1500))},doCloseToast:function(){this.toastShow=!1}}}}});