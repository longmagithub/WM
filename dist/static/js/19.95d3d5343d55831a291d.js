webpackJsonp([19,20],{154:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(13),n="/memberCard",a="/shopList";t.default={data:function(){return{msg:"静默授权",url:"",code:"",customerId:"",shopId:"",location:{longitude:"",latitude:""}}},created:function(){var e=this;if(this.url=window.location.href,this.url.indexOf("code")<0)(0,r.setStore)("entry",this.$router.path),this.to();else{var t={code:(0,r.urlParse)().code,type:1};console.log(t),this.axios.post("/mp/authority/customer",t).then(function(t){if(t=t.data,t.success){e.customerId=t.data.customerId,(0,r.setStore)("customerId",e.customerId),(0,r.setStore)("openId",t.data.openId),(0,r.setStore)("token",t.data.token);var o=(0,r.getStore)("entry");switch(o){case n:e.goMemberCard(t.data.customerId);break;case a:e.getShopList(t.data.customerId);break;default:e.getShopList(t.data.customerId)}}})}},methods:{to:function(){var e=encodeURIComponent("http://newpay.tunnel.qydev.com/VAOrderH5/?#/jingmo"),t="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx96f6daa5f8a71039&redirect_uri="+e+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect";window.location.replace(t)},goMemberCard:function(e){window.location.replace("http://newpay.tunnel.qydev.com/VAOrderH5/?#/memberCard?customerId="+e)},getShopList:function(e){window.location.replace("http://newpay.tunnel.qydev.com/VAOrderH5/?#/shopList?customerId="+e+"&t="+Date.parse(new Date))}}}},305:function(e,t,o){var r=o(1)(o(154),o(339),null,null);e.exports=r.exports},339:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},staticRenderFns:[]}}});