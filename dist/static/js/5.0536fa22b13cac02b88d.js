webpackJsonp([5,15],{7:function(s,e,t){t(9);var d=t(1)(t(11),t(10),"data-v-4d40f634",null);s.exports=d.exports},8:function(s,e,t){e=s.exports=t(3)(),e.push([s.id,".toast[data-v-4d40f634]{position:fixed;top:0;left:0;width:100%;height:100%}.toast .toast-mask[data-v-4d40f634]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}.toast .toast-text[data-v-4d40f634]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;min-width:120px;max-width:80%;line-height:1.5em;text-align:center;color:#fff;background:rgba(0,0,0,.7);border-radius:4px}",""])},9:function(s,e,t){var d=t(8);"string"==typeof d&&(d=[[s.id,d,""]]);t(4)(d,{});d.locals&&(s.exports=d.locals)},10:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"show"}],staticClass:"toast"},[t("div",{staticClass:"toast-mask"}),s._v(" "),t("div",{staticClass:"toast-text"},[s._v(s._s(s.text))])])},staticRenderFns:[]}},11:function(s,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:{type:String},t:{type:Number,default:2e3},show:{type:Boolean,defalut:!1}}}},49:function(s,e){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItNDQ3IDQ0OSAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NDcgNDQ5IDEyOCAxMjg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNENkQ2RDY7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0tMzgzLDQ1MC4zYy0zNC42LDAtNjIuNywyOC4xLTYyLjcsNjIuN2MwLDM0LjYsMjguMSw2Mi43LDYyLjcsNjIuN2MzNC42LDAsNjIuNy0yOC4xLDYyLjctNjIuNw0KCUMtMzIwLjMsNDc4LjQtMzQ4LjQsNDUwLjMtMzgzLDQ1MC4zeiBNLTM0My45LDQ5Ny42bC00My45LDQyLjNjLTAuNiwwLjYtMS4yLDEtMS45LDEuNGMtMi44LDItNi42LDEuNy05LjEtMC44bC0xOC44LTE4LjgNCgljLTIuOC0yLjgtMi44LTcuMiwwLTEwYzIuOC0yLjgsNy4yLTIuOCwxMCwwbDE0LjIsMTQuMmwzOS43LTM4LjJjMi44LTIuOCw3LjItMi44LDEwLDBDLTM0MS4yLDQ5MC40LTM0MS4yLDQ5NC44LTM0My45LDQ5Ny42eiIvPg0KPC9zdmc+DQo="},50:function(s,e){s.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSItNDQ3IDQ0OSAxMjggMTI4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NDcgNDQ5IDEyOCAxMjg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRjg5MzI7fQ0KPC9zdHlsZT4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0tMzgzLDQ1MC4zYy0zNC42LDAtNjIuNywyOC4xLTYyLjcsNjIuN2MwLDM0LjYsMjguMSw2Mi43LDYyLjcsNjIuN2MzNC42LDAsNjIuNy0yOC4xLDYyLjctNjIuNw0KCUMtMzIwLjMsNDc4LjQtMzQ4LjQsNDUwLjMtMzgzLDQ1MC4zeiBNLTM0My45LDQ5Ny42bC00My45LDQyLjNjLTAuNiwwLjYtMS4yLDEtMS45LDEuNGMtMi44LDItNi42LDEuNy05LjEtMC44bC0xOC44LTE4LjgNCgljLTIuOC0yLjgtMi44LTcuMiwwLTEwYzIuOC0yLjgsNy4yLTIuOCwxMCwwbDE0LjIsMTQuMmwzOS43LTM4LjJjMi44LTIuOCw3LjItMi44LDEwLDBDLTM0MS4yLDQ5MC40LTM0MS4yLDQ5NC44LTM0My45LDQ5Ny42eiIvPg0KPC9zdmc+DQo="},129:function(s,e,t){e=s.exports=t(3)(),e.push([s.id,".address-wrap[data-v-7115ddf8]{padding-top:12px;line-height:1em;color:#343434}.address-wrap ul li[data-v-7115ddf8]{padding-left:16px;border-bottom:1px solid #f1f1f1;display:-ms-flexbox;display:flex;display:-webkit-flex}.address-wrap ul li input[data-v-7115ddf8]{width:93%;height:38px;border:none}.address-wrap ul li .left[data-v-7115ddf8]{margin-top:13px;width:62px}.address-wrap ul li .right[data-v-7115ddf8]{-ms-flex-positive:1;flex-grow:1}.address-wrap ul li .right .gender-wrap[data-v-7115ddf8]{margin:12px 0}.address-wrap ul li .right p[data-v-7115ddf8]{border-bottom:1px solid #f1f1f1}.address-wrap ul li .right p[data-v-7115ddf8]:last-child{border:none}.address-wrap ul li .right label[data-v-7115ddf8]{margin-right:40px;padding-left:30px}.address-wrap ul li .right .gender.on[data-v-7115ddf8]{background:url("+t(50)+") no-repeat 0;background-size:18px 18px}.address-wrap ul li .right .gender.off[data-v-7115ddf8]{background:url("+t(49)+") no-repeat 0;background-size:18px 18px}.address-wrap .btns[data-v-7115ddf8]{padding:0 19px;padding-top:27px}.address-wrap .btns button[data-v-7115ddf8]{padding:11px 0;border:none;border-radius:5px;width:42%;border:1px solid #c1c1c1}.address-wrap .btns .btn-del[data-v-7115ddf8]{color:#909090;background:#fff}.address-wrap .btns .btn-del.on[data-v-7115ddf8]{color:#ff8932;border-color:#ff8932}.address-wrap .btns .btn-del.off[data-v-7115ddf8]{border-color:#fff}.address-wrap .btns .btn-save[data-v-7115ddf8]{color:#fff;float:right}.address-wrap .btns .btn-save.off[data-v-7115ddf8]{background:#c1c1c1;border-color:#c1c1c1}.address-wrap .btns .btn-save.on[data-v-7115ddf8]{background:#ff8932;border-color:#ff8932}",""])},159:function(s,e,t){var d=t(129);"string"==typeof d&&(d=[[s.id,d,""]]);t(4)(d,{});d.locals&&(s.exports=d.locals)},177:function(s,e,t){t(159);var d=t(1)(t(250),t(202),"data-v-7115ddf8",null);s.exports=d.exports},202:function(s,e){s.exports={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"address-wrap"},[t("ul",{staticClass:"bg-white"},[t("li",[t("div",{staticClass:"left"},[s._v("联系人")]),s._v(" "),t("div",{staticClass:"right"},[t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.name,expression:"addressDetail.name"}],attrs:{type:"text",placeholder:"收货人姓名"},domProps:{value:s.addressDetail.name},on:{input:function(e){e.target.composing||(s.addressDetail.name=e.target.value)}}})]),s._v(" "),t("p",{staticClass:"gender-wrap"},[t("label",{staticClass:"gender",class:1===s.addressDetail.gender?"on":"off",on:{click:function(e){s.addressDetail.gender=1}}},[s._v("先生")]),s._v(" "),t("label",{staticClass:"gender",class:2===s.addressDetail.gender?"on":"off",on:{click:function(e){s.addressDetail.gender=2}}},[s._v("女士")])])])]),s._v(" "),t("li",[t("div",{staticClass:"left"},[s._v("电话")]),s._v(" "),t("div",{staticClass:"right"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.phoneNumber,expression:"addressDetail.phoneNumber"}],attrs:{type:"tel",placeholder:"收货人电话"},domProps:{value:s.addressDetail.phoneNumber},on:{input:function(e){e.target.composing||(s.addressDetail.phoneNumber=e.target.value)}}})])]),s._v(" "),t("li",[t("div",{staticClass:"left"},[s._v("地址")]),s._v(" "),t("div",{staticClass:"right"},[t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.address,expression:"addressDetail.address"}],attrs:{type:"text",placeholder:"小区/写字楼/学校等"},domProps:{value:s.addressDetail.address},on:{input:function(e){e.target.composing||(s.addressDetail.address=e.target.value)}}})]),s._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:s.addressDetail.houseNum,expression:"addressDetail.houseNum"}],attrs:{type:"text",placeholder:"详细地址（如门牌号等）"},domProps:{value:s.addressDetail.houseNum},on:{input:function(e){e.target.composing||(s.addressDetail.houseNum=e.target.value)}}})])])])]),s._v(" "),t("div",{staticClass:"btns"},[t("button",{staticClass:"btn-del",class:s.addressId?"on":"off",attrs:{type:"button"},on:{click:function(e){s.delAdderss()}}},[s._v("删除地址")]),s._v(" "),t("button",{staticClass:"btn-save",class:s.vaild.name&&s.vaild.phoneNumber&&s.vaild.address?"on":"off",attrs:{type:"button"},on:{click:s.saveAddress}},[s._v("\n      保存地址\n    ")])]),s._v(" "),t("toast",{attrs:{show:s.toastShow,text:s.toastText}})],1)},staticRenderFns:[]}},250:function(s,e,t){"use strict";function d(s){if(s&&s.__esModule)return s;var e={};if(null!=s)for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e.default=s,e}function a(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(e,"__esModule",{value:!0});var i=t(7),r=a(i),o=t(23),n=d(o);e.default={created:function(){this.addressId=this.$route.query.addressId?this.$route.query.addressId:"",this.shopId=this.$route.query.shopId?this.$route.query.shopId:"",this.sessionId=this.$route.query.sessionId?this.$route.query.sessionId:"",this.addressId?(this.getAddressDetail(this.addressId),n.changeTitleInWx("修改地址")):n.changeTitleInWx("新增地址")},data:function(){return{toastShow:!1,toastText:"",isAjaxing:!1,shopId:"",sessionId:"",addressId:"",addressDetail:{name:"",phoneNumber:"",address:"",houseNum:"",gender:0},formValid:0,vaild:{name:!1,phoneNumber:!1,address:!1,houseNum:!1,gender:0}}},components:{Toast:r.default},watch:{"addressDetail.name":function(s,e){s?this.vaild.name=!0:this.vaild.name=!1},"addressDetail.phoneNumber":function(s,e){s&&/^1(3|4|5|7|8)\d{9}$/.test(s)?this.vaild.phoneNumber=!0:this.vaild.phoneNumber=!1},"addressDetail.address":function(s,e){s?this.vaild.address=!0:this.vaild.address=!1},"addressDetail.houseNum":function(s,e){s?this.vaild.houseNum=!0:this.vaild.houseNum=!1},"addressDetail.gender":function(s,e){s?this.vaild.gender=!0:this.vaild.gender=!1}},methods:{getAddressDetail:function(s){var e=this,t={sessionId:this.sessionId,addressId:s};this.axios.get("/br/customer/address"+this.PublicJs.createParams(t)).then(function(s){s.data.success&&(e.addressDetail=s.data.data,e.$emit("closeToast"))})},saveAddress:function(){if(!this.isAjaxing){this.isAjaxing=!0;var s={shopId:this.shopId,sessionId:this.sessionId,name:this.addressDetail.name,phoneNumber:this.addressDetail.phoneNumber,gender:this.addressDetail.gender,address:this.addressDetail.address,houseNum:this.addressDetail.houseNum};this.sendData(s)}},sendData:function(s){var e=this;if(this.addressId)s.addressId=this.addressId,this.axios.put("/br/customer/address",s).then(function(s){e.isAjaxing=!1,s.data.success?e.$router.replace({path:"/addList",query:{addressId:e.addressId,shopId:e.shopId,sessionId:e.sessionId}}):(e.toggleToast(1,s.data.message),e.$router.replace({path:"/addList",query:{addressId:e.addressId,shopId:e.shopId,sessionId:e.sessionId}}))},function(s){e.isAjaxing=!1,e.toggleToast(1,"网络异常，请稍候重试"),e.$router.replace({path:"/addList",query:{addressId:e.addressId,shopId:e.shopId,sessionId:e.sessionId}})});else{var t=this;this.axios.post("/br/customer/address",s).then(function(s){s=s.data,e.isAjaxing=!1,s.success?(t.toggleToast(1,s.message),e.$router.replace({path:"/addList",query:{addressId:s.data,shopId:e.shopId,sessionId:e.sessionId}})):t.toggleToast(1,s.message)},function(s){e.toggleToast(1,s.data.data.message)})}},delAdderss:function(){var s=this;if(this.addressId&&!this.isAjaxing){this.isAjaxing=!0;var e={addressId:this.addressId,sessionId:this.sessionId};this.axios({method:"delete",url:"/br/customer/address",data:e}).then(function(e){s.isAjaxing=!1,e=e.data,e.success?s.$router.replace({path:"/addList",query:{shopId:s.shopId,sessionId:s.sessionId}}):s.toggleToast(1,e.message)},function(e){s.toggleToast(1,"网络异常，请稍候重试")})}},toggleToast:function(s,e){var t=this;s!==!0&&1!==s||(this.toastShow=!this.toastShow,this.toastText=e,clearTimeout(this.timer),this.timer=setTimeout(function(){t.toastShow=!t.toastShow},1e3))},doCloseToast:function(){this.toastShow=!1}}}}});