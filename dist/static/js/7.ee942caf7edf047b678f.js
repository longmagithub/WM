webpackJsonp([7,15],{7:function(t,a,e){e(9);var s=e(1)(e(11),e(10),"data-v-4d40f634",null);t.exports=s.exports},8:function(t,a,e){a=t.exports=e(3)(),a.push([t.id,".toast[data-v-4d40f634]{position:fixed;top:0;left:0;width:100%;height:100%}.toast .toast-mask[data-v-4d40f634]{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent}.toast .toast-text[data-v-4d40f634]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;min-width:120px;max-width:80%;line-height:1.5em;text-align:center;color:#fff;background:rgba(0,0,0,.7);border-radius:4px}",""])},9:function(t,a,e){var s=e(8);"string"==typeof s&&(s=[[t.id,s,""]]);e(4)(s,{});s.locals&&(t.exports=s.locals)},10:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"toast"},[e("div",{staticClass:"toast-mask"}),t._v(" "),e("div",{staticClass:"toast-text"},[t._v(t._s(t.text))])])},staticRenderFns:[]}},11:function(t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{text:{type:String},t:{type:Number,default:2e3},show:{type:Boolean,defalut:!1}}}},132:function(t,a,e){a=t.exports=e(3)(),a.push([t.id,".bb[data-v-ecc18f3a]{border-bottom:1px solid #f1f1f1}.orderlist-wrap[data-v-ecc18f3a]{line-height:1em;color:#343434;overflow-y:auto}.orderlist-wrap ul[data-v-ecc18f3a]{padding-top:12px}.orderlist-wrap ul li[data-v-ecc18f3a]{margin-bottom:12px}.orderlist-wrap ul li p[data-v-ecc18f3a]{margin-left:16px;padding:16px 16px 16px 0}.orderlist-wrap ul li p span[data-v-ecc18f3a]{float:right}.orderlist-wrap ul li p .order-status0[data-v-ecc18f3a]{color:#ff5083}.orderlist-wrap ul li p .order-status1[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status2[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status3[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status4[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status8[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status9[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status13[data-v-ecc18f3a]{color:#ff8932}.orderlist-wrap ul li p .order-status5[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status7[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status10[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status11[data-v-ecc18f3a],.orderlist-wrap ul li p .order-status12[data-v-ecc18f3a]{color:#343434}.orderlist-wrap ul li p .order-status6[data-v-ecc18f3a]{color:#b3b3b3}.orderlist-wrap ul li p[data-v-ecc18f3a]:last-child{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.orderlist-wrap ul li p[data-v-ecc18f3a]:after{clear:both}.orderlist-wrap .data-status[data-v-ecc18f3a]{padding:30px 0;text-align:center}",""])},162:function(t,a,e){var s=e(132);"string"==typeof s&&(s=[[t.id,s,""]]);e(4)(s,{});s.locals&&(t.exports=s.locals)},179:function(t,a,e){e(162);var s=e(1)(e(252),e(206),"data-v-ecc18f3a",null);t.exports=s.exports},206:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"orderlist-wrap",attrs:{id:"orderlist"}},[e("div",{attrs:{id:"orderlist_scroll"}},[e("ul",t._l(t.orderList,function(a){return e("li",{staticClass:"bg-white",on:{click:function(e){t.viewDetail(a.orderNo,a.id)}}},[e("p",{staticClass:"bb"},[t._v("\n          "+t._s(a.orderTime)+"\n          "),t._v(" "),e("span",{class:"order-status"+a.state},[t._v(t._s(a.stateMsgC))])]),t._v(" "),e("p",{staticClass:"aa"},[e("span",[t._v(t._s(a.shopName))]),e("span",[t._v("￥"+t._s(a.payPrice))])])])})),t._v(" "),e("p",{staticClass:"data-status"},[t._v(t._s(t.dataStatus))])]),t._v(" "),e("toast",{attrs:{show:t.toastShow,text:t.toastText}})],1)},staticRenderFns:[]}},252:function(t,a,e){"use strict";function s(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var o=e(7),i=r(o),d=e(16),l=e(23),n=s(l);a.default={mounted:function(){var t=this,a=document.getElementById("orderlist"),e=document.getElementById("orderlist_scroll");a.style.height=document.body.clientHeight+"px",a.onscroll=function(){e.offsetHeight-a.offsetHeight-a.scrollTop<45&&t.hasMore&&t.getOrderList()}},data:function(){return{sessionId:"",shopId:"",pageIndex:1,pageSize:20,isAjaxing:!1,hasMore:!0,toastShow:!1,toastText:"",dataStatus:"",orderList:null,orderStatusText:["未付款","已付款","已接单","已接单","配送中","已完成","订单关闭","已拒单"]}},components:{Toast:i.default},created:function(){n.changeTitleInWx("我的订单"),this.sessionId=this.$route.query.customerId||(0,d.getStore)("userInfo").customerId,this.getOrderList()},methods:{getOrderList:function(){var t=this;if(!this.isAjaxing){this.isAjaxing=!0,this.dataStatus="加载中...";var a={sessionId:this.sessionId,pageSize:this.pageSize,pageIndex:this.pageIndex};this.axios.get("/br/order/list"+this.PublicJs.createParams(a)).then(function(a){if(a=a.data,a.success){if(t.isAjaxing=!1,t.orderList)for(var e=0;e<a.data.lstOrderInfos.length;e++)t.orderList.push(a.data[e]);else t.orderList=a.data.lstOrderInfos,console.log(t.orderList);setTimeout(function(){a.data.hasMore?t.dataStatus="加载更多":t.dataStatus="没有更多了"},400),t.$nextTick(function(){t.pageIndex++,t.hasMore=a.data.hasMore})}else t.dataStatus="加载失败",t.toastShow=!0,t.toastText="网络异常，请稍候再试",setTimeout(function(){t.toastShow=!1,t.toastText=""},1e3)},function(a){t.isAjaxing=!1,t.dataStatus="加载失败",t.toastShow=!0,t.toastText="网络异常，请稍候再试",setTimeout(function(){t.toastShow=!1,t.toastText=""},1e3)})}},viewDetail:function(t,a){this.$router.push({path:"/orderDetail",query:{orderNo:t,orderId:a,sid:this.sessionId,shopId:this.shopId}})}}}}});